!function(win,fn){"use strict";var returnVal=fn();for(var k in returnVal)win[k]=returnVal[k]}(this,function(){var pdfJsApi={getFilePath:function(path){},tools:{viewOutline:!0,viewThumbnail:!0,viewAttachments:!0,sidebarToggle:!0,viewFind:!0,firstPage:!0,lastPage:!0,splitToolbarButton:!0,zoom:!0,scaleSelect:!0,openFile:!0,closeFile:!0,fullScreen:!0,print:!0,download:!0,secondaryToolbar:!0,viewBookmark:!1},getNetWorkPath:function(path){console.log(path)}},$multiSign=$("#multi-sign"),$slade=$("#slade"),$multiSignPad=$("#multisignpad"),$multiSignPadShow=$("#multisignpadshow"),$viewerContainer=$("#viewerContainer"),$mainContainer=$("#mainContainer"),$contextmenu=$("#delsigndiv"),_img,_div,signSerial=0,signElArray=[],delSerial,toolbarHeight=$("#toolbarContainer").height();function multiSignClick(){$slade.show(),$multiSignPad.css("display","block"),$multiSignPadShow.append("<img src='company.png' />")}function multiSignStart(){_img=document.createElement("img"),_div=document.createElement("div"),_img.src=$multiSignPadShow.find("img").prop("src");var scale=signInfo.scale;_img.onload=function(){$(_img).css({width:_img.width*scale,height:_img.height*scale})},_div.appendChild(_img),$(_div).addClass("movesign"),$(_div).css({position:"absolute",textAlign:"center"});var $viewer=$("#viewer");$viewer&&$viewer.html()&&multiSignClose()}function multiSignClose(){$multiSignPadShow.find("img").remove(),$multiSignPad.hide(),$slade.hide()}function initListeners(){var offsetLeft,offsetTop;$viewerContainer.on("click",".page",function(){var pageNumber=$(this).attr("data-page-number");if(_div&&_img){var left=parseInt($(_div).css("left")),top=parseInt($(_div).css("top")),$curPageEl=$viewerContainer.find('[data-page-number="'+pageNumber+'"]'),__div=document.createElement("div"),__img=document.createElement("img");__div.id="_signSerial"+signSerial,__div.className="_addSign",__div.setAttribute("data-index",signSerial),__img.src=_img.src,__img.width=_img.width,__img.height=_img.height,$(__div).css({position:"absolute",left:left+"px",top:top+"px"}),__div.appendChild(__img),$curPageEl.append(__div),signElArray.push({pageNumber:pageNumber,signEl:__div,scale:signInfo.scale,imgWidth:_img.width,imgHeight:_img.height,top:top,left:left}),signSerial++}}),$viewerContainer.on("mouseenter",".page",function(e){var $this=$(this),pageX=e.pageX,pageY=e.pageY;if(offsetLeft=this.offsetLeft+$mainContainer.get(0).offsetLeft,offsetTop=this.offsetTop+$mainContainer.get(0).offsetTop,_img&&_div){var top=pageY-offsetTop-_img.height/2+$viewerContainer.get(0).scrollTop-toolbarHeight,left=pageX-offsetLeft-_img.width/2;$(_div).css({top:top+"px",left:left+"px"}),$this.append(_div)}}),$viewerContainer.on("mousemove",".page",function(e){var pageX=e.pageX,pageY=e.pageY;if(offsetLeft=this.offsetLeft+$mainContainer.get(0).offsetLeft,offsetTop=this.offsetTop+$mainContainer.get(0).offsetTop,_img&&_div){var top=pageY-offsetTop-_img.height/2+$viewerContainer.get(0).scrollTop-toolbarHeight,left=pageX-offsetLeft-_img.width/2;$(_div).css({top:top+"px",left:left+"px"})}}),$viewerContainer.on("mouseleave",function(e){var movesign=$(this).find(".movesign");$.each(movesign,function(i,e){e.remove()}),_div=null,_img=null}),$viewerContainer.on("contextmenu","._addSign",function(e){e.preventDefault(),delSerial=$(this).data("index"),$contextmenu.show(),$contextmenu.css({top:e.pageY,left:e.pageX})}),$contextmenu.on("click","li",function(){$viewerContainer.find('[data-index="'+delSerial+'"]').remove(),signElArray.splice(delSerial,1,void 0),$contextmenu.hide()})}return initListeners(),{pdfJsApi:pdfJsApi,multiSignClick:multiSignClick,multiSignClose:multiSignClose,multiSignStart:multiSignStart,signElArray:signElArray}});